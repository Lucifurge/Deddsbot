<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BIBLE ENGINE BOT</title>
  <link rel="icon" type="image/x-icon" href="logo.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --green: #1db954;
  --gold: #f5c542;
  --dark: #0b1a12;
  --card: #11261a;
  --white: #ffffff;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: "Segoe UI", system-ui, sans-serif;
  background: linear-gradient(180deg, #08140d, #0b1a12);
  color: var(--white);
  min-height: 100vh;
}

/* ===== NAVBAR ===== */
nav {
  background: var(--card);
  padding: 15px 25px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}
nav a {
  color: var(--green);
  text-decoration: none;
  font-weight: bold;
  margin-left: 20px;
  transition: 0.2s;
}
nav a:hover { color: var(--gold); }

/* ===== HEADER ===== */
header {
  padding: 30px 20px;
  text-align: center;
}
header h1 {
  font-size: 3rem;
  color: var(--green);
  letter-spacing: 2px;
}
header span { color: var(--gold); }
header p { margin-top: 8px; opacity: 0.85; }

/* ===== CONTAINER ===== */
.container {
  max-width: 1200px;
  margin: auto;
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
}

/* ===== CARDS ===== */
.card {
  background: var(--card);
  border-radius: 14px;
  padding: 25px;
  box-shadow: 0 0 25px rgba(0,0,0,0.4);
  border: 1px solid rgba(245,197,66,0.1);
}
.card h2 { color: var(--gold); margin-bottom: 15px; font-size: 1.4rem; }
.status, .commands, .logs { font-size: 1rem; line-height: 1.7; }
.online { color: var(--green); font-weight: bold; }
.offline { color: #ff5c5c; font-weight: bold; }
.command { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.08);}
.command:last-child { border-bottom: none; }
.command-name { color: var(--green); font-weight: 600; }
.command-desc { opacity: 0.8; font-size: 0.95rem; }

/* ===== BUTTON ===== */
.button {
  display: inline-block;
  margin-top: 15px;
  padding: 12px 22px;
  background: linear-gradient(135deg, var(--green), var(--gold));
  color: #0b1a12;
  font-weight: bold;
  border-radius: 30px;
  text-decoration: none;
  transition: transform 0.2s, box-shadow 0.2s;
}
.button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(29,185,84,0.4);
}

/* ===== FOOTER ===== */
footer {
  text-align: center;
  padding: 25px;
  opacity: 0.7;
  font-size: 0.9rem;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav>
  <div>BIBLE ENGINE BOT</div>
  <div>
    <a href="/">Dashboard</a>
    <a href="]https://deddshelperbot.onrender.com/">BIBLE HELPER BOT</a>
    <a href="https://biblebots-1shb.onrender.com/#bots">HOME</a>
  </div>
</nav>

<header>
  <h1>BIBLE <span>ENGINE</span> BOT</h1>
  <p>Faith-centered ‚Ä¢ Multi-purpose ‚Ä¢ Live Stats</p>
</header>

<section class="container">

  <!-- BOT STATUS -->
  <div class="card">
    <h2>ü§ñ Bot Status</h2>
    <div id="status" class="status">Loading status...</div>
  </div>

  <!-- COMMANDS -->
  <div class="card">
    <h2>üìú Commands</h2>
    <div id="commands" class="commands">Loading commands...</div>
  </div>

  <!-- LIVE LOGS -->
  <div class="card">
    <h2>üñ•Ô∏è Command Logs</h2>
    <div id="logs" class="logs">Loading logs...</div>
  </div>

  <!-- INVITE BUTTON -->
  <div class="card">
    <h2>üöÄ Get Started</h2>
    <p>
      Invite BIBLE ENGINE BOT to your server and access Bible verses, memes, and automation with ease.
    </p>
    <a class="button" href="https://discord.com/oauth2/authorize?client_id=1460782091116482602&permissions=8&integration_type=0&scope=bot">
      Invite to Discord
    </a>
  </div>

</section>

<footer>
  ¬© 2026 BIBLE ENGINE BOT ‚Ä¢ Made by Dev Aether, Dev Luke, Dev Zap
</footer>

<script>
async function loadStatus() {
  try {
    const res = await fetch("/api/status");
    const data = await res.json();
    document.getElementById("status").innerHTML = `
      <div>Status: <span class="${data.online ? "online" : "offline"}">
        ${data.online ? "ONLINE" : "OFFLINE"}
      </span></div>
      <div>Uptime: ${data.uptime}s</div>
      <div>Servers: ${data.servers}</div>
    `;
  } catch {
    document.getElementById("status").innerText = "Failed to load status";
  }
}

async function loadCommands() {
  try {
    const res = await fetch("/api/commands");
    const commands = await res.json();
    const container = document.getElementById("commands");
    container.innerHTML = "";
    commands.forEach(c => {
      const div = document.createElement("div");
      div.className = "command";
      div.innerHTML = `<div class="command-name">${c.name}</div><div class="command-desc">${c.desc}</div>`;
      container.appendChild(div);
    });
  } catch {
    document.getElementById("commands").innerText = "Failed to load commands";
  }
}

async function loadLogs() {
  try {
    const res = await fetch("/api/log"); // NEW: command log API
    const logs = await res.json();
    const container = document.getElementById("logs");
    container.innerHTML = "";
    logs.forEach(l => {
      const div = document.createElement("div");
      div.innerHTML = `[${new Date(l.time).toLocaleTimeString()}] ${l.user} used <b>${l.command}</b>`;
      container.appendChild(div);
    });
  } catch {
    document.getElementById("logs").innerText = "Failed to load logs";
  }
}

loadStatus();
loadCommands();
loadLogs();
setInterval(loadStatus, 10000);
setInterval(loadLogs, 5000); // refresh logs every 5s
</script>

</body>
</html>
